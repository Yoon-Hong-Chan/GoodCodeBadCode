# 10.3 퍼블릭 API에 집중하되 중요한 동작은 무시하지 말라
- 단위 테스트는 구현 세부 사항에 구애 받지 않는 것이 중요
- 세부 사항은 목적을 이루기 위한 수단일 뿐 동작에 초점이 맞춰야 함

## 10.3.1 중요한 동작이 퍼블릭 API 외부에 있을 수 있다
- 실제 테스트 대상 코드는 여러 의존하는 경우가 많은데 의존하는 코드가 부수효과를 일으키면? 테스트 의미가 달라짐
- 퍼블릭 API로 제공되지 않는 것중에서도 테스트 코드가 알아야 할 다른 사항들이 존재
- 코드가 아닌 외부 환경에서의 연동에 대한 의존성을 가진 테스트 대상 코드가 꽤나 흔함
  - 서버와 상호 작용 하는 코드
  - 데이터베이스에 값을 저장하거나 읽는 코드
- 'Public API만을 이용해 테스트하라'와 '실행 세부 사항을 테스트하지 말라'는 둘다 훌룡한 조언임\
But 원칙일 뿐 정의는 주관적이고 상황에 따라 달라짐
- 코드의 모든 중요한 동작을 제대로 테스트하고는 것이고, 퍼블릭 API라고 생각하는 것만으로는 이것을 할수 없는 경우가 존재
- 테스트는 구현 세부 사항에 최대한 독립적으로 수행하도록 주의를 기울여야 함, But 세부적이 중요사항에 대해서도 테스트를 해야하고, 테스트 대안이 없으면 Public API를 벗어나 테스트 해야함
  - 예를 들어 캐시를 통한 조회도 캐시를 통해 조회가 되는지에 대한 여부도 테스트를 해야함\
    -> 이는 public api로 제공해주는 기능과는 무관한 세부 구현일지라도....
